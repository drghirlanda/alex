#!/usr/local/bin/pebl-language

define Start( par ) {

  ## AlexManual can be in a number of places:
  dirs <- [ "/usr/share/alex/",       # Linux
            "/usr/local/share/alex/", # OS X
            "C:\Program Files\alex\"  # Windows
          ]
  ## Here we find out where:
  found <- 0
  loop( gD, dirs ) {
    gAlexDir <- gD
    if( IsDirectory( gD ) ) {
      found <- 1
      Print( gAlexDir + " found!" )
      break
    } else {
      Print( gAlexDir + " not found, moving on" )
    }
  }
  if( not found ) {
    SignalFatalError( "Cannot find "+gAlexDir+" anywhere" )
  }

  if( GetSystemType() == "WINDOWS" ) {
    SystemCall( "start "+gAlexDir+"/AlexManual.pdf" )
  } elseif ( GetSystemType() == "OSX" ) {
    SystemCall( "open "+gAlexDir+"/AlexManual.pdf &" )
  } else { # Linux
    SystemCall( "xdg-open "+gAlexDir+"/AlexManual.pdf &" )
  }
}
